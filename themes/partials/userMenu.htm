{# Detectar se o user é admin ou product_manager #}
{% set isAdmin = false %}
{% set isPM = false %}
{% for g in user.getGroups %}
  {% if g.code == 'admin' %}
    {% set isAdmin = true %}
  {% elseif g.code == 'product_manager' %}
    {% set isPM = true %}
  {% endif %}
{% endfor %}

{% if isAdmin or isPM %}
  <li>
    <a href="{{ 'categories'|page }}"
       class="flex items-center gap-2 px-4 py-1 text-gray-700 hover:bg-gray-100">
      <!-- view-grid -->
      <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none"
           viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round"
              d="M3 4h5v5H3V4zm0 11h5v5H3v-5zm11-11h5v5h-5V4zm0 11h5v5h-5v-5z"/>
      </svg>
      Gerir Produtos
    </a>
  </li>
  <li>
    <hr class="border-t border-gray-200 my-2">
  </li>   
{% endif %}
<li>
    <a href="{{ 'profile'|page }}"
       class="flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-gray-100">
      <!-- user -->
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" class="w-4 h-4" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
        <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z" />
      </svg>
      O meu perfil
    </a>
</li>
<li>
    <a href="{{ 'historic'|page }}"
       class="flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-gray-100">
      <!-- clock -->
      <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none"
           viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round"
              d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
      </svg>
      Histórico
    </a>
</li>
<li>
  <hr class="border-t border-gray-200 my-2">
</li>       

{% if isAdmin or isPM %}
<li>
  <a href="{{ 'analytics/analytics'|page }}"
     class="flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-gray-100">
    <!-- chart-bar -->
    <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none"
         viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
      <path stroke-linecap="round" stroke-linejoin="round"
            d="M3 3v18h18M9 17V9m6 8v-5"/>
    </svg>
    Analytics
  </a>
</li>
{% endif %}

{# —— UTILIZADORES —— #}
{% if isAdmin %}
<li>
  <a href="{{ 'admin/adminusers'|page }}"
     class="flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-gray-100">
    <!-- users -->
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" class="w-4 h-4" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
      <path stroke-linecap="round" stroke-linejoin="round" d="M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z" />
    </svg>
    Gestão Utilizadores
  </a>
</li>
{% endif %}

{% if isAdmin %}
  <li>
<a href="{{ 'admin/contacts'|page }}"
       class="flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-gray-100">
      <!-- ícone -->
      <svg xmlns="http://www.w3.org/2000/svg"
           class="w-4 h-4" fill="none" viewBox="0 0 24 24"
           stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round"
              d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 6h14a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2z" />
      </svg>
      Gestão Contactos
    </a>
  </li>
{% endif %}
<li>
  <hr class="border-t border-gray-200 my-2">
</li> 